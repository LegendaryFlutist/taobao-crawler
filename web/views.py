# from django.http import HttpResponse
from django.http import HttpResponse
from django.shortcuts import render
from . import taobao


def runoob(request):
    list = taobao.get_list('拖把');
    #dict = taobao.list_to_dict(list);
    #items = {'0': "{'name': '益伟吸水海绵挤水免手洗干湿一拖对折家用胶棉拖把头两用地拖布净', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i3/1664945146/O1CN01jD55Nx1nsufCDqJd7_!!0-item_pic.jpg', 'price': '19.90', 'loc': '浙江 金华', 'comment_count': '0', 'sales': '10万+人收货', 'shop_name': '益伟家居旗舰店'}", '1': "{'name': '海绵拖把头免手洗干湿两用一拖净家用大号挤水地拖布胶棉吸水拖把', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i4/3243177896/O1CN01u5NZTf28CPvJ0frEM_!!0-item_pic.jpg', 'price': '19.80', 'loc': '浙江 杭州', 'comment_count': '437843', 'sales': '4.5万+人收货', 'shop_name': '开心妈妈爱润专卖店'}", '2': "{'name': '魔术扫把扫地头发神器浴室刮水器地刮地板清理家用拖把扫帚卫生间', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i4/2349076562/O1CN01Bqps621yLRaFHMLCn_!!0-item_pic.jpg', 'price': '6.90', 'loc': '浙江 金华', 'comment_count': '214528', 'sales': '1.5万+人收货', 'shop_name': '好贤慧旗舰店'}", '3': "{'name': '拖把家用免手洗自拧水旋转吸水懒人一拖拖布地拖挤水老式墩布净', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i4/1900302939/O1CN01oQweby1Xa6ds4mtJD_!!1900302939-0-lubanu-s.jpg', 'price': '11.90', 'loc': '浙江 杭州', 'comment_count': '77923', 'sales': '1.0万+人收货', 'shop_name': '木丽家居旗舰店'}", '4': "{'name': '爱格旋转拖把杆通用拖布墩布桶家用一拖净拖地桶甩水懒人免手洗', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i2/752477041/O1CN01OsObGc21spBzl8Qg4_!!2-item_pic.png', 'price': '69.00', 'loc': '浙江 金华', 'comment_count': '145509', 'sales': '1.0万+人收货', 'shop_name': '爱格旗舰店'}", '5': "{'name': '通用加厚墩布头拓扑好神圆拖把头非纯棉线旋转托把地拖布头替换头', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i1/746589204/O1CN01iWuXIU2HrTuvVhN0v_!!0-item_pic.jpg', 'price': '19.90', 'loc': '浙江 金华', 'comment_count': '51773', 'sales': '1.0万+人收货', 'shop_name': '军诚力拓家居专营店'}", '6': "{'name': '好媳妇免手洗平板大号懒人拖把干湿两用拖地把家用多功能一拖净', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i2/825556432/O1CN01LAWUMa1xNu6RCCgR3_!!825556432-0-lubanu-s.jpg', 'price': '79.90', 'loc': '广东 广州', 'comment_count': '4806', 'sales': '9500+人收货', 'shop_name': '好媳妇家居旗舰店'}", '7': "{'name': '洗车用品擦车神器扫灰拖把除尘掸子汽车刷子长柄伸缩工具套装家用', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i2/1093464541/O1CN013PWSIJ1jPp6G60Fxt_!!0-item_pic.jpg', 'price': '9.90', 'loc': '浙江 金华', 'comment_count': '72610', 'sales': '9500+人收货', 'shop_name': '果奇旗舰店'}", '8': "{'name': '扫把簸箕套装组合家用网红折叠扫地刮笤帚捎把扫帚拖把三件套神器', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i2/3249782843/O1CN01jKpOHV1Ws8cHCcbLq_!!3249782843-0-lubanu-s.jpg', 'price': '29.90', 'loc': '北京', 'comment_count': '10534', 'sales': '8000+人收货', 'shop_name': '和润家居专营店'}", '9': "{'name': '平板拖把免手洗静电除尘纸拖地湿巾吸尘纸静电拖把家用拖布一次性', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i2/2206857068209/O1CN01nbF7yF2AVltSLaZvM_!!0-item_pic.jpg', 'price': '28.00', 'loc': '浙江 杭州', 'comment_count': '10246', 'sales': '6000+人收货', 'shop_name': '佳思可玲旗舰店'}", '10': "{'name': '太太乐27cm海绵拖把头对折挤水免手洗拖地胶棉加强家用吸水拖布', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i1/725677994/O1CN01YoTYye28vIl35DFZC_!!0-item_pic.jpg', 'price': '19.90', 'loc': '上海', 'comment_count': '20956', 'sales': '4798人收货', 'shop_name': '天猫超市'}", '11': "{'name': '吸水海绵拖把免手洗懒人对折式挤水家用地拖地神器布胶棉头一拖净', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i3/715007771/O1CN01Z1wM2i27HAPmK1uzq_!!0-item_pic.jpg', 'price': '19.80', 'loc': '浙江 杭州', 'comment_count': '122851', 'sales': '4772人收货', 'shop_name': '开心妈妈旗舰店'}", '12': "{'name': '地板湿巾拖地湿巾加厚一次性拖布静电除尘纸拖把湿巾吸尘擦地湿巾', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i4/684740973/O1CN01T6qx4I1J3fydVYIOA_!!0-item_pic.jpg', 'price': '39.00', 'loc': '浙江 嘉兴', 'comment_count': '5790', 'sales': '3738人收货', 'shop_name': '目磊家居专营店'}", '13': "{'name': '旋转拖把家用免手洗旋转干湿两用网红通用一拖懒人吸水甩水地拖净', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i2/2206613217086/O1CN01fZJIEo22DR7jYFJgD_!!0-item_pic.jpg', 'price': '39.90', 'loc': '河北 廊坊', 'comment_count': '2678', 'sales': '3652人收货', 'shop_name': '卫宜康旗舰店'}", '14': "{'name': '妙洁易挤净免手洗平板拖把家用拖地神器地拖布', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i1/786798443/O1CN01fjvNc22CEwaWCSeGg_!!0-item_pic.jpg', 'price': '69.90', 'loc': '江苏 无锡', 'comment_count': '3025', 'sales': '3574人收货', 'shop_name': '妙洁官方旗舰店'}", '15': "{'name': '免打孔拖把挂钩强力粘胶卫生间扫把挂架固定墙壁挂拖布夹收纳神器', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i1/1808088355/O1CN01QI3q7b2Badjeerqj3_!!0-item_pic.jpg', 'price': '6.80', 'loc': '广东 佛山', 'comment_count': '2516', 'sales': '3350人收货', 'shop_name': '美芬家居专营店'}", '16': "{'name': '恒亮蜡刷汽车掸子除尘车掸刷子油拖扫灰擦车神器拖把洗车用品工具', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i1/821003797/O1CN01GVyxEV1dv4SQHpllB_!!0-item_pic.jpg', 'price': '59.60', 'loc': '重庆', 'comment_count': '17571', 'sales': '3205人收货', 'shop_name': '凯乐汽车用品专营店'}", '17': "{'name': '【刘涛推荐】美的高温蒸汽拖把家用多功能除菌非无线电动蒸气拖地', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i3/3995181059/O1CN01F9XfIb1Jh42hKx7be_!!0-item_pic.jpg', 'price': '899.00', 'loc': '广东 佛山', 'comment_count': '1481', 'sales': '2883人收货', 'shop_name': '美的乐买专卖店'}", '18': "{'name': '免手洗平板懒人大号拖把家用地板干湿两用托把一拖净吸水拖布拖帕', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i4/2206701368178/O1CN013ZV2xk2AHZdAY9qzb_!!0-item_pic.jpg', 'price': '27.90', 'loc': '浙江 嘉兴', 'comment_count': '598', 'sales': '2879人收货', 'shop_name': '托芬旗舰店'}", '19': "{'name': '拖把挂钩置物架免打孔厕所浴室洗手间壁挂式卫生间挂墙上收纳神器', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i1/2453501504/O1CN01b0Atf91MysGZJWz0M_!!0-item_pic.jpg', 'price': '19.80', 'loc': '福建 福州', 'comment_count': '7506', 'sales': '2540人收货', 'shop_name': '邹振记旗舰店'}", '20': "{'name': '2019新品 小米电动拖把家用拖地机米家手持无线自动清洁机擦地机', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i2/1714128138/O1CN01xWOP8G29zFn59p7mc_!!0-item_pic.jpg', 'price': '499.00', 'loc': '北京', 'comment_count': '4854', 'sales': '2280人收货', 'shop_name': '小米官方旗舰店'}", '21': "{'name': '无线电动拖把扫地一体机家用自动手持擦地机非蒸汽吸尘洗拖地神器', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i3/2378994113/O1CN01UyNCOM1gFnb8ZyPMr_!!0-item_pic.jpg', 'price': '439.00', 'loc': '北京', 'comment_count': '3861', 'sales': '2136人收货', 'shop_name': '鑫宝鹭旗舰店'}", '22': "{'name': '居家家 卡通水果免打孔拖把架 卫生间拖把夹浴室扫把拖把挂钩卡座', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i4/50983440/O1CN011bHYveuvwfxJ2Ob_!!50983440.jpg', 'price': '1.90', 'loc': '上海', 'comment_count': '35241', 'sales': '1981人收货', 'shop_name': '居家家'}", '23': "{'name': '扫把家用套布拖地神器吸尘吸发刮水拖把扫帚不粘头发扫地笤帚擦地', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i4/1664945146/O1CN01VlQprU1nsuj0bFBiA_!!0-item_pic.jpg', 'price': '7.90', 'loc': '浙江 金华', 'comment_count': '14514', 'sales': '1845人收货', 'shop_name': '益伟家居旗舰店'}", '24': "{'name': '免手洗平板拖把家用瓷砖地木地板一拖净旋转懒人拖布干湿两用地拖', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i2/3253332409/TB27pBsC1ySBuNjy1zdXXXPxFXa_!!3253332409-0-item_pic.jpg', 'price': '29.90', 'loc': '河北 廊坊', 'comment_count': '45617', 'sales': '1617人收货', 'shop_name': '富兰洁旗舰店'}", '25': "{'name': '儿童扫把套装小扫把迷你可爱扫地清洁宝宝玩具幼儿园扫帚拖把簸箕', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i4/2899389074/O1CN01dPgb782GtwT9TFyyK_!!2899389074.jpg', 'price': '10.80', 'loc': '浙江 台州', 'comment_count': '3953', 'sales': '1429人收货', 'shop_name': 'hujiesujiao'}", '26': "{'name': '日本UONI由利电动拖把无线家用喷水擦免手洗扫地一体机神器非蒸汽', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i4/4014376640/O1CN01taopu41yvATzjSmzT_!!0-item_pic.jpg', 'price': '1199.00', 'loc': '广东 深圳', 'comment_count': '4211', 'sales': '1381人收货', 'shop_name': 'uoni由利旗舰店'}", '27': "{'name': '免手洗平板拖把家用木地板一拖网红拖地神器干湿两用懒人地拖布净', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i2/3885739953/O1CN01GKCeYo2NOWdt5B16G_!!0-item_pic.jpg', 'price': '17.80', 'loc': '浙江 金华', 'comment_count': '385', 'sales': '1309人收货', 'shop_name': '一家清旗舰店'}", '28': "{'name': '洗车拖把不伤车多功能汽车用伸缩式刷子擦车扫灰除尘车掸清洁专用', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i3/2138133549/O1CN01PGl5TL1c5UAxs9dVV_!!0-item_pic.jpg', 'price': '2.60', 'loc': '浙江 金华', 'comment_count': '4770', 'sales': '1252人收货', 'shop_name': '卡泰汽车用品专营店'}", '29': "{'name': '6.1折24期免息】Shark鲨客P3air高温蒸汽拖把除菌手持家用非电动', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i2/2206634500233/O1CN01jTt0011DaktFKb4P6_!!0-item_pic.jpg', 'price': '1299.00', 'loc': '浙江 杭州', 'comment_count': '967', 'sales': '1201人收货', 'shop_name': '鲨客旗舰店'}", '30': "{'name': '平板拖把大号尘推酒店家用地拖办公室长平拖工厂车间排拖棉线拖布', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i1/1923593428/TB2IL7seGLN8KJjSZFGXXbjrVXa_!!1923593428.jpg', 'price': '25.00', 'loc': '浙江 台州', 'comment_count': '18870', 'sales': '1182人收货', 'shop_name': '依妮蕾尔妇幼用品馆'}", '31': "{'name': '圆头木杆普通拖把棉线家用老式墩布吸水拖布酒店物业大号全棉地拖', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i3/3044189029/O1CN01AZz6Ff2GZKdL0jdgp_!!3044189029.jpg', 'price': '11.80', 'loc': '河北 唐山', 'comment_count': '6620', 'sales': '1155人收货', 'shop_name': '红嘉园工厂店'}", '32': "{'name': '卫生间收纳神器拖把挂钩免打孔不锈钢扫把挂架强力粘钩墙壁拖布夹', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i1/2649176358/O1CN01Vv0RO01wq0mS4J5iU_!!2649176358.jpg', 'price': '9.80', 'loc': '广东 广州', 'comment_count': '9255', 'sales': '1148人收货', 'shop_name': 'myrto卫浴有限公司'}", '33': "{'name': '粘贴式拖把布替换布平板拖布头粘扣式拖把布替换布吸水平板替换布', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i1/64155320/TB1v9UgQXXXXXawXpXXYXGcGpXX_M2.SS2', 'price': '23.80', 'loc': '浙江 宁波', 'comment_count': '9352', 'sales': '1136人收货', 'shop_name': '减肥的猫咪'}", '34': "{'name': '100片一次性除螨静电无尘纸地板除尘纸巾平板拖把纸粘毛发拖地巾', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i1/3918153197/O1CN01SwBzlb1ZUGpBZvYCt_!!3918153197-0-pixelsss.jpg', 'price': '8.40', 'loc': '浙江 金华', 'comment_count': '4430', 'sales': '1113人收货', 'shop_name': '静磊商务公司'}", '35': "{'name': '大卫平板拖把免手洗懒人家用瓷砖地拖把旋转干湿两用木地板拖把布', 'image': '//g-search1.alicdn.com/img/bao/uploaded/i4/i3/651093327/O1CN01Lqy8YT1aRoBa4MJlh_!!0-item_pic.jpg', 'price': '59.00', 'loc': '浙江 金华', 'comment_count': '3643', 'sales': '1102人收货', 'shop_name': '拓朴旗舰店'}", '36': "{'name': '拖把架免打孔强力承重拖把夹卫生间吸盘扫把粘钩置物收纳壁挂挂钩', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i1/1766706290/O1CN015RFYZA1wKrlFWTIX0_!!1766706290.jpg', 'price': '12.90', 'loc': '浙江 金华', 'comment_count': '56851', 'sales': '1082人收货', 'shop_name': '艾仕可旗舰店'}", '37': "{'name': '家用塑料洗拖把桶挤水桶海绵拖把清洗桶手提拖布杆免手洗地拖水桶', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i1/2207281214951/O1CN01zUKJb31mRbVsXwUs9_!!0-item_pic.jpg', 'price': '11.90', 'loc': '广东 揭阳', 'comment_count': '810', 'sales': '1079人收货', 'shop_name': '甲东里旗舰店'}", '38': "{'name': '无线电动拖把拖地扫地一体机家用吸尘擦地机非蒸汽全自动洗地神器', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i4/2378994113/O1CN01gCty5Y1gFnc6TuwPa_!!0-item_pic.jpg', 'price': '699.00', 'loc': '北京', 'comment_count': '3080', 'sales': '1038人收货', 'shop_name': '鑫宝鹭旗舰店'}", '39': "{'name': '拖把挂钩卫生间拖把卡扣挂架强力免打孔厨房扫把夹壁挂整理架收纳', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i1/2232975132/O1CN01AAS9kf1nmV9BqogEQ_!!2232975132.jpg', 'price': '14.60', 'loc': '浙江 金华', 'comment_count': '482', 'sales': '1032人收货', 'shop_name': '滴滴答答小铺'}", '40': "{'name': '拓扑大卫拖把头通用款加厚非纯棉旋转替换头好神拖托把头墩布头', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i2/883170661/O1CN01pwW9Wo1GkmOvpmxWS_!!883170661.jpg', 'price': '21.80', 'loc': '广东 惠州', 'comment_count': '6746', 'sales': '1012人收货', 'shop_name': 'msc111188'}", '41': "{'name': '家用对折式胶棉拖把免手洗拖布海绵拖吸水海棉拖把头干湿两用托把', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i1/179917267/O1CN0123YKfBqCWS6fPd7_!!179917267.jpg', 'price': '16.90', 'loc': '浙江 金华', 'comment_count': '5827', 'sales': '1002人收货', 'shop_name': '大哥要啥'}", '42': "{'name': '花仙子驱尘氏加厚静电除尘纸毛发一次性拖把吸尘纸地板拖地布神器', 'image': '//g-search3.alicdn.com/img/bao/uploaded/i4/i4/862613498/O1CN011rL6ot1bi82y34BvL-862613498.jpg', 'price': '49.90', 'loc': '上海', 'comment_count': '6591', 'sales': '983人收货', 'shop_name': '花仙子家居旗舰店'}", '43': "{'name': '好太太海绵拖把吸水拖布家用一键换头大号滚轮挤水胶棉泡沫瓷砖地', 'image': '//g-search2.alicdn.com/img/bao/uploaded/i4/i1/2201419191426/O1CN01BprKsC1MP9O016wl8_!!0-item_pic.jpg', 'price': '29.90', 'loc': '江苏 宿迁', 'comment_count': '576', 'sales': '970人收货', 'shop_name': '妙致家居旗舰店'}"}

    #print(dict)
    return render(request, 'runoob.html',    {'items': list})


# 接收请求数据
def search(request):
    request.encoding='utf-8'
    if 'q' in request.GET and request.GET['q']:
        goods =  request.GET['q']
        list = taobao.get_list(goods)
        return render(request, 'runoob.html', {'items': list})
    else:
        message = '你提交了空表单'
        return HttpResponse(message)